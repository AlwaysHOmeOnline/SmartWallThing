<mxfile host="app.diagrams.net" modified="2024-05-20T15:46:29.475Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36 Edg/125.0.0.0" etag="KpuPYZFeJZvDEO7jSgib" version="24.4.4" type="github" pages="5">
  <diagram name="Architecture" id="3tNNM1X5z_LQ3v7Zmcsf">
    <mxGraphModel dx="1160" dy="702" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <UserObject label="&lt;b&gt;1 Output Module&lt;/b&gt;" link="data:page/id,SDVZ6m2dIcWAikIsJlS1" id="fAy4cRbwCINLskFZb-au-1">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;fontColor=#FFFFFF;" parent="1" vertex="1">
            <mxGeometry x="293" y="929" width="172" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="fAy4cRbwCINLskFZb-au-11" value="&lt;b&gt;2 Output Module&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="428" y="981" width="100.33" height="35" as="geometry" />
        </mxCell>
        <mxCell id="fAy4cRbwCINLskFZb-au-12" value="&lt;b&gt;3 Output Module&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="441" y="992" width="100.33" height="35" as="geometry" />
        </mxCell>
        <mxCell id="fAy4cRbwCINLskFZb-au-13" value="&lt;b&gt;4 Output Module&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="451" y="1002" width="100.33" height="35" as="geometry" />
        </mxCell>
        <mxCell id="fAy4cRbwCINLskFZb-au-14" value="&lt;b&gt;5 Output Module&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="461" y="1012" width="100.33" height="35" as="geometry" />
        </mxCell>
        <mxCell id="fAy4cRbwCINLskFZb-au-15" value="&lt;b&gt;6 Output Module&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="471" y="1022" width="100.33" height="35" as="geometry" />
        </mxCell>
        <mxCell id="fAy4cRbwCINLskFZb-au-16" value="&lt;b&gt;7 Output Module&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="481" y="1032" width="100.33" height="35" as="geometry" />
        </mxCell>
        <mxCell id="fAy4cRbwCINLskFZb-au-17" value="&lt;b&gt;8 Output Module&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="494" y="1041" width="100.33" height="35" as="geometry" />
        </mxCell>
        <mxCell id="ux4bUXaMXEddhi8iajMC-2" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="377" y="845" as="sourcePoint" />
            <mxPoint x="377" y="929" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;font color=&quot;#ffffff&quot;&gt;.........&lt;/font&gt;" link="data:page/id,hWRcXc2n00R3Cc0Se4TX" id="trt422tmJs_5_FZKnpYO-1">
          <mxCell style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" parent="1" vertex="1">
            <mxGeometry x="376" y="861" width="81" height="26" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="wxT5oKkkRgQmS80elWKP-1" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="989" as="sourcePoint" />
            <mxPoint x="310" y="1035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wxT5oKkkRgQmS80elWKP-2" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="391" y="988" as="sourcePoint" />
            <mxPoint x="391" y="1034" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wxT5oKkkRgQmS80elWKP-3" value="Out 1&lt;div&gt;&lt;b&gt;Control Output&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;(fixed hardware&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;output)&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="257" y="1029" width="107" height="70" as="geometry" />
        </mxCell>
        <mxCell id="9pxlGcknDMdws_vcNT_B-1" value="Out 2&lt;div&gt;&lt;b&gt;LED Output&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;(fixed hardware&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;output)&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="352" y="1030" width="107" height="70" as="geometry" />
        </mxCell>
        <UserObject label="&lt;b&gt;Output Allocation Module&lt;/b&gt;" link="data:page/id,f13qpNif5W2N2oETGpjO" id="vfjMXeYuusqqXOGD4zw7-1">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;fontColor=#FFFFFF;" parent="1" vertex="1">
            <mxGeometry x="295" y="783" width="172" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="m_XG7xQePaBYRRnWptKg-1" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="377" y="699" as="sourcePoint" />
            <mxPoint x="377" y="783" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;font color=&quot;#ffffff&quot;&gt;.........&lt;/font&gt;" link="data:page/id,_CJlaNm810BKsSvQgKIT" id="m_XG7xQePaBYRRnWptKg-2">
          <mxCell style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" parent="1" vertex="1">
            <mxGeometry x="376" y="715" width="81" height="26" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="jWVe9jhLpJO2bFFUr-xW-1" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.366;entryY=0.037;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="vfjMXeYuusqqXOGD4zw7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="453" y="856" as="sourcePoint" />
            <mxPoint x="451.7207800000001" y="970.2950000000003" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jWVe9jhLpJO2bFFUr-xW-2" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.37;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="vfjMXeYuusqqXOGD4zw7-1" target="fAy4cRbwCINLskFZb-au-12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="384" y="851" as="sourcePoint" />
            <mxPoint x="460" y="978" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jWVe9jhLpJO2bFFUr-xW-3" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.487;entryY=0.069;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="fAy4cRbwCINLskFZb-au-13" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="382" y="846" as="sourcePoint" />
            <mxPoint x="479" y="992" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jWVe9jhLpJO2bFFUr-xW-4" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="vfjMXeYuusqqXOGD4zw7-1" target="fAy4cRbwCINLskFZb-au-14" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="392" y="856" as="sourcePoint" />
            <mxPoint x="510" y="1014" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jWVe9jhLpJO2bFFUr-xW-5" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.554;entryY=0.071;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="fAy4cRbwCINLskFZb-au-15" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="382" y="844" as="sourcePoint" />
            <mxPoint x="521" y="1022" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jWVe9jhLpJO2bFFUr-xW-6" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.554;entryY=0.071;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="vfjMXeYuusqqXOGD4zw7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="392" y="854" as="sourcePoint" />
            <mxPoint x="537" y="1034" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jWVe9jhLpJO2bFFUr-xW-7" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.554;entryY=0.071;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="382" y="844" as="sourcePoint" />
            <mxPoint x="547" y="1044" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="96- Output allocation module" id="f13qpNif5W2N2oETGpjO">
    <mxGraphModel dx="1160" dy="1802" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" background="none" backgroundImage="{&quot;src&quot;:&quot;data:page/id,3tNNM1X5z_LQ3v7Zmcsf&quot;}" math="0" shadow="0">
      <root>
        <mxCell id="iN4MMuQWKGQ09hD97ne7-0" />
        <mxCell id="iN4MMuQWKGQ09hD97ne7-1" parent="iN4MMuQWKGQ09hD97ne7-0" />
        <mxCell id="iN4MMuQWKGQ09hD97ne7-2" value="&lt;div style=&quot;box-sizing: border-box; font-family: &amp;quot;Segoe UI VSS (Regular)&amp;quot;, &amp;quot;Segoe UI&amp;quot;, -apple-system, BlinkMacSystemFont, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Ubuntu, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 14px; text-align: start;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Available modules (in this context hardware pluggable modules) which can be selected&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ol style=&quot;box-sizing: border-box; padding-left: 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Switch&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Switch Large&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Dimmer&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Regulator&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Regulator Large&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Plug&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Plug Large&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;spare&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;spare&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Empty&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Modules are standard size modules and occupies 1 position, The large modules uses 2 positions, meaning each large module occupies 2 led control outputs and 2 level control outputs.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Based on the input, the allocator has to allocate the values to the output modules.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; padding: 0px 0px 0px 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;b style=&quot;box-sizing: border-box;&quot;&gt;Allocation Logic&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ul style=&quot;box-sizing: border-box; padding: 0px 0px 0px 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Allocate module 1 to Output module 1 output&lt;/li&gt;&lt;ul style=&quot;box-sizing: border-box; padding: 0px 0px 0px 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;If module 1 is large module, reserve output module 2 output&lt;/li&gt;&lt;/ul&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Check next available output module, allocate the output of the module to next available output module and reserve the next output module, if the module is large&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;If module is empty allocate to next output module output&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Allocate until the last module&amp;nbsp;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;If module takes more than 8 output modules, ignore allocation after the 8th output module&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Example:&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;types&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;1- Switch&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;2-Regulator Large&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;3- Dimmer&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;4-Plug Large&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;5-Empty&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;6-Empty&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;7-Empty&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;8-empty&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Allocation based on the example:&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Output Module 1 - Switch (occupies 1 output module)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Output Module 2 - Regulator Large (occupies 2 output modules)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Output Module 3 - Reserve (occupied by regulator large)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Output Module 4 - Dimmer&amp;nbsp;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;(occupies 1 output module)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Output Module 5 - Plug&amp;nbsp; Large (Occupies 2 output modules)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;Output Module 6 - Reserve (occupied by plug large)&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;Output Module 7 - Reserve&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;Output Module 8 - Reserve&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;b style=&quot;box-sizing: border-box;&quot;&gt;Control Logic&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;i style=&quot;box-sizing: border-box;&quot;&gt;&lt;u style=&quot;box-sizing: border-box;&quot;&gt;Type: Switch, Plug, Plug Large&lt;/u&gt;&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ol style=&quot;box-sizing: border-box; padding-left: 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;PWM = off&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;Number of leds-1&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;State is off, then Output level 0%&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/span&gt;State is on then Output level 100%&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Switch led color (global value)&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Led brightness = Required Visible brightness (calculated by ambient light sensor module) from global variable + Switch light compensation (global value)&lt;/li&gt;&lt;/ol&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;i style=&quot;box-sizing: border-box;&quot;&gt;&lt;u style=&quot;box-sizing: border-box;&quot;&gt;Type: Dimmer, Regulator, Regulator Large&lt;/u&gt;&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ol style=&quot;box-sizing: border-box; padding-left: 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;PWM = on&amp;nbsp;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;Number of leds - Set based on level - 0 to 5 (eg: if 100% 5 leds, 50%-2 leds) and when state is on&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/span&gt;When state is off number of leds to 0&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Set level passes to level when state is on level is 0 when state is off&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Switch led color (global value)&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Led brightness = Required Visible brightness (calculated by ambient light sensor) + Switch light compensation (global value)&lt;/li&gt;&lt;/ol&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Type: Empty&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ol style=&quot;box-sizing: border-box; padding-left: 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;PWM = off&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;Number of leds 0&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;level is 0&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Dimmer led color (global value)&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Led brightness = 0&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99CCFF;strokeColor=#b85450;gradientColor=none;glass=1;opacity=89;shadow=0;" parent="iN4MMuQWKGQ09hD97ne7-1" vertex="1">
          <mxGeometry x="7" y="-180" width="838" height="1276" as="geometry" />
        </mxCell>
        <UserObject label="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;X&lt;/font&gt;&lt;/b&gt;" link="data:page/id,3tNNM1X5z_LQ3v7Zmcsf" id="iN4MMuQWKGQ09hD97ne7-3">
          <mxCell style="whiteSpace=wrap;html=1;aspect=fixed;fillColor=#ff0000;" parent="iN4MMuQWKGQ09hD97ne7-1" vertex="1">
            <mxGeometry x="812" y="-180" width="33" height="33" as="geometry" />
          </mxCell>
        </UserObject>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="95 Output module" id="SDVZ6m2dIcWAikIsJlS1">
    <mxGraphModel dx="1160" dy="702" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" background="none" backgroundImage="{&quot;src&quot;:&quot;data:page/id,3tNNM1X5z_LQ3v7Zmcsf&quot;}" math="0" shadow="0">
      <root>
        <mxCell id="2kp57rCUnibryJvJ5NKm-0" />
        <mxCell id="2kp57rCUnibryJvJ5NKm-1" parent="2kp57rCUnibryJvJ5NKm-0" />
        <mxCell id="2kp57rCUnibryJvJ5NKm-2" value="&lt;div style=&quot;box-sizing: border-box; font-family: &amp;quot;Segoe UI VSS (Regular)&amp;quot;, &amp;quot;Segoe UI&amp;quot;, -apple-system, BlinkMacSystemFont, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Ubuntu, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 14px; text-align: start;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;b style=&quot;box-sizing: border-box;&quot;&gt;Control Logic&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;i style=&quot;box-sizing: border-box;&quot;&gt;&lt;u style=&quot;box-sizing: border-box;&quot;&gt;Control Output&lt;/u&gt;&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ul style=&quot;box-sizing: border-box; padding: 0px 0px 0px 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;If PWM enable is high, enable PWM output, else low or high output&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Start PWM when the output level changes from 0 to any&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;PWM must be triggered with respect to the zero crossing input (P1.05 on bmd)&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;i style=&quot;box-sizing: border-box;&quot;&gt;&lt;u style=&quot;box-sizing: border-box;&quot;&gt;Led Output&lt;/u&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;Addressable leds are used, a driver light in size can be used, if calling led drivers on all 8 instances of output module increases memory a common module to control all led outputs can be considered)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ul style=&quot;box-sizing: border-box; padding: 0px 0px 0px 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Check led enable bits&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Set brightness&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Set color (LED color is set globally, fetched from global data block)&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;If level is not 0, turn on enabled leds (Same color and brightness for all leds)&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;If brightness is 0 or number of leds 0, disable execution to reduce power consumption&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99CCFF;strokeColor=#b85450;gradientColor=none;glass=1;opacity=89;shadow=0;" vertex="1" parent="2kp57rCUnibryJvJ5NKm-1">
          <mxGeometry x="7" y="509" width="838" height="587" as="geometry" />
        </mxCell>
        <UserObject label="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;X&lt;/font&gt;&lt;/b&gt;" link="data:page/id,3tNNM1X5z_LQ3v7Zmcsf" id="2kp57rCUnibryJvJ5NKm-3">
          <mxCell style="whiteSpace=wrap;html=1;aspect=fixed;fillColor=#ff0000;" vertex="1" parent="2kp57rCUnibryJvJ5NKm-1">
            <mxGeometry x="812" y="509" width="33" height="33" as="geometry" />
          </mxCell>
        </UserObject>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="96-1 Inputs" id="_CJlaNm810BKsSvQgKIT">
    <mxGraphModel dx="1160" dy="702" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" background="none" backgroundImage="{&quot;src&quot;:&quot;data:page/id,3tNNM1X5z_LQ3v7Zmcsf&quot;}" math="0" shadow="0">
      <root>
        <mxCell id="Ujm6htgVsN1CnAjKJrb1-0" />
        <mxCell id="Ujm6htgVsN1CnAjKJrb1-1" parent="Ujm6htgVsN1CnAjKJrb1-0" />
        <mxCell id="Ujm6htgVsN1CnAjKJrb1-2" value="&lt;div style=&quot;box-sizing: border-box; font-family: &amp;quot;Segoe UI VSS (Regular)&amp;quot;, &amp;quot;Segoe UI&amp;quot;, -apple-system, BlinkMacSystemFont, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Ubuntu, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 14px; text-align: start;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ul style=&quot;box-sizing: border-box; padding: 0px 0px 0px 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;b style=&quot;box-sizing: border-box;&quot;&gt;Input&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ol style=&quot;box-sizing: border-box; padding-left: 40px; list-style: lower-alpha;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Type of module 1 byte&lt;br&gt;(1-Switch 2-Switch Large 3-Dimmer 4-Regulator 5-Regulator Large 6-Plug 7-Plug Large 8..9-spare 10-Empty)&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Activation bits 1 byte&lt;/li&gt;&lt;ol style=&quot;box-sizing: border-box; padding-left: 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;State - bool - 0 off 1 on&lt;/span&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;reserve&lt;/span&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;..&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Level&amp;nbsp;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Spare&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99CCFF;strokeColor=#b85450;gradientColor=none;glass=1;opacity=89;shadow=0;" parent="Ujm6htgVsN1CnAjKJrb1-1" vertex="1">
          <mxGeometry x="383" y="531" width="328" height="248" as="geometry" />
        </mxCell>
        <UserObject label="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;X&lt;/font&gt;&lt;/b&gt;" link="data:page/id,3tNNM1X5z_LQ3v7Zmcsf" id="Ujm6htgVsN1CnAjKJrb1-3">
          <mxCell style="whiteSpace=wrap;html=1;aspect=fixed;fillColor=#ff0000;" parent="Ujm6htgVsN1CnAjKJrb1-1" vertex="1">
            <mxGeometry x="678" y="531" width="33" height="33" as="geometry" />
          </mxCell>
        </UserObject>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="95-1 Inputs" id="x37iSuyGTZj7YB0T2Fns">
    <mxGraphModel dx="1160" dy="702" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" background="none" backgroundImage="{&quot;src&quot;:&quot;data:page/id,3tNNM1X5z_LQ3v7Zmcsf&quot;}" math="0" shadow="0">
      <root>
        <mxCell id="FeNE7xWvElHuNIG-rqJQ-0" />
        <mxCell id="FeNE7xWvElHuNIG-rqJQ-1" parent="FeNE7xWvElHuNIG-rqJQ-0" />
        <mxCell id="FeNE7xWvElHuNIG-rqJQ-2" value="&lt;div style=&quot;box-sizing: border-box; font-family: &amp;quot;Segoe UI VSS (Regular)&amp;quot;, &amp;quot;Segoe UI&amp;quot;, -apple-system, BlinkMacSystemFont, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Ubuntu, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 14px; text-align: start;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ul style=&quot;box-sizing: border-box; padding: 0px 0px 0px 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ol style=&quot;box-sizing: border-box; padding-left: 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;b style=&quot;box-sizing: border-box;&quot;&gt;Input (32 bit)&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;ol style=&quot;box-sizing: border-box; padding-left: 40px;&quot;&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Control Bits (1byte)&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;0-PWM enable (0-off, 1-on)&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/span&gt;Led control bits (4 bits, if extracting value is hard and consumes memory, the spare can be used)&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;1-led 1 bit&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;2-led 2 bit&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;3-led 3 bit&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;4-led 4 bit&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;5-spare&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;6-spare&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;7-spare&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;Level 0-100 (1byte)&lt;/span&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;Led color&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; list-style: inherit;&quot;&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;Led brightness 0-100 (1byte)&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99CCFF;strokeColor=#b85450;gradientColor=none;glass=1;opacity=89;shadow=0;" vertex="1" parent="FeNE7xWvElHuNIG-rqJQ-1">
          <mxGeometry x="383" y="428" width="328" height="351" as="geometry" />
        </mxCell>
        <UserObject label="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;X&lt;/font&gt;&lt;/b&gt;" link="data:page/id,3tNNM1X5z_LQ3v7Zmcsf" id="FeNE7xWvElHuNIG-rqJQ-3">
          <mxCell style="whiteSpace=wrap;html=1;aspect=fixed;fillColor=#ff0000;" vertex="1" parent="FeNE7xWvElHuNIG-rqJQ-1">
            <mxGeometry x="678" y="428" width="33" height="33" as="geometry" />
          </mxCell>
        </UserObject>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
